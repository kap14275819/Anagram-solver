#include <iostream>
#include <fstream>
#include <string>
#include <cstdlib>
#include <map>

using namespace std;

void solution(string a, string w); 
  string answer; 
  int lastScore; 

int main() {
  string filename = "dictionary.txt"; 


      string userin; // userin is the string for the input
  do {
    cout << "Enter 3 letters here: ";
    getline(cin, userin); // Getline is where it retrieves the input for userin
  } while(userin.length() > 3);//loop for entering 3 letters 


   // Read from file
   ifstream fin(filename.c_str());  // This is where the file variable is named
      if (!fin) { 
        cout << "error: File Could'nt be Opened";
      abort(); // if the file cannot be opened exit the program
   }
    string line; 
    
    while (fin >> line) {  
    
      if(userin.length() >= line.length()){  // This is the checking the line length
        solution(userin, line);
      }
    }
    
   fin.close(); 
   
   cout << "Best Solution: " << answer << endl; // This prints out best solution if 3 letters.
   return 0;
}

void solution(string a, string w){
   if (  answer.length() > w.length()) return; // returns the string for the user if the solution is retrieved. 
  int currentScore = 0;  // sets currentScore variable score to 0
  map<char, int> reapeatedChars;
  
  for(unsigned i=0; i < a.length(); i++) {  // Score system, each letter has one point
    for(unsigned j=0; j < w.length(); j++) { //  if letter is found in anagram that is in dictionary, gives one point 
    if(a[i] == w[j]){ // if a character [i] = w character [j] 
      reapeatedChars[w[j]]++; 
    if(reapeatedChars[w[j]] == 1){ 
      currentScore++;
        }
      }
    }
  }
  if(currentScore > lastScore){  // currentScore is bigger lastScore, give answer
      answer = w; 
      lastScore = currentScore; // gives the answer.
  }
}
